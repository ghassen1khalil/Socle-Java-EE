<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core" dir="auto"
	class="${languageBean.localeCode}" xmlns:o="http://omnifaces.org/ui"
	xmlns:of="http://omnifaces.org/functions">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE9" />

<f:view locale="#{languageBean.localeCode}">
	<h:head>

		<link rel="shortcut icon"
			href="#{resource['images/favicon-sifast.ico']}" />
		<title>#{msg.LoginPageTitle}</title>

		<o:conditionalComment if="IE">
			<link rel="stylesheet" href="#{resource['css/ie_style.css']}"
				type="text/css" />
		</o:conditionalComment>

		<h:outputStylesheet name="css/screen.css" />
		<h:outputScript name="js/lib/moment.js" />
		<h:outputScript name="js/lib/log-0.0.1.js" />

		<h:outputScript name="js/ConfigLogger.js" />

		<h:outputScript name="js/main.js" />
		<h:outputScript name="js/language.js" />
		<h:outputScript name="js/ConfigLogger.js" />
		
		<h:outputScript name="js/menu.js" />
		<h:outputScript name="js/DetectLanguage.js" />
		

	</h:head>

	<h:body class="ui-grid ui-grid-responsive login-page">
		<h:outputStylesheet name="css/login.css" />
		<h:form id="loginForm" prependId="false" dir="auto"
			class="ui-grid ui-grid-responsive">

			<div class="login ui-grid ui-grid-responsive ">
				<div class="login-screen">
					<div style="text-align: right">
						<ui:include src="/template/language.xhtml" />
					</div>
					<div class="app-title">
						<h1>#{msg['Login']}</h1>
					</div>
					<div class="login-form ui-grid ui-grid-responsive">
						<div class="control-group with-picto">
							<i class="ico-login"></i>
							<p:inputText id="j_username" required="true"
								label="#{msg['UserName']}" placeholder="#{msg['UserName']}"
								requiredMessage="#{msg['EnterUserName']}" />
							<h:message for="j_username" display="text" style="color:red" />
						</div>

						<div class="control-group with-picto">
							<i class="ico-password"></i>
							<p:password id="j_password" label="#{msg['Password']}"
								required="true" placeholder="#{msg['Password']}"
								requiredMessage="#{msg['EnterPassword']}" />
							<h:message for="j_password" display="text" style="color:red" />
						</div>

						<div class="control-group login-remember clearfix">
							<input id="rememeberMe" type="checkbox"
								name="_spring_security_remember_me" class="login-remember-input" />
							<h:outputLabel value="#{msg['RememberMe']}" />
						</div>

						<h:commandButton id="login"
							action="#{authentificationBean.doLogin}"
							styleClass="btn btn-primary btn-large btn-block"
							value="#{msg['BtnLogin']}" />

						<c:if test="${not empty SPRING_SECURITY_LAST_EXCEPTION}">
							<font style="color: red"> #{msg['BadCredentials']} </font>
						</c:if>

						<a class="forgot-password"
							href="/socle-javaee-web/views/RecoverPassWord.xhtml"><p:outputLabel
								value="#{msg['LostPassword']}" /> </a>

					</div>
				</div>
			</div>
		</h:form>
	</h:body>
</f:view>
</html>